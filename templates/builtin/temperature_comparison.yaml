template_id: temperature_comparison
version: "1.0.0"
created_at: "2024-01-15T00:00:00Z"
updated_at: "2024-01-15T00:00:00Z"
created_by: system

matching:
  trigger_phrases:
    - "temperature comparison"
    - "compare temperatures"
    - "supply and return"
    - "chilled water temperatures"
    - "condenser water temperatures"
    - "delta t"
    - "temperature trend"
  required_keywords: []
  excluded_keywords: []
  confidence_threshold: 0.7

metadata:
  title: "Temperature Comparison"
  description: "Multi-line chart comparing supply and return temperatures. Monitor delta-T and temperature trends."
  category: comparison
  tags:
    - temperature
    - comparison
    - supply
    - return
    - delta-t
    - trend
  hvac_context: water

data:
  source: timescale
  queries:
    - query_id: chw_temps
      device_id: chilled_water_loop
      datapoints:
        - supply_water_temperature
        - return_water_temperature
      derived:
        - name: delta_t
          formula: "return_water_temperature - supply_water_temperature"
          unit: "°F"
  default_time_range:
    type: relative
    value: "24h"
  resampling: "15m"
  filters: []
  outlier_filter:
    enabled: true
    method: both
    iqr_multiplier: 1.5

chart:
  type: multi
  layout:
    title: "Chilled Water Temperature Comparison"
    xaxis:
      title: "Time"
      field: timestamp
      type: date
    yaxis:
      title: "Temperature (°F)"
      field: temperature
    yaxis2:
      title: "Delta-T (°F)"
      field: delta_t
  traces:
    - name: "Supply Temp"
      type: line
      mode: lines
      x_field: timestamp
      y_field: supply_water_temperature
      line:
        width: 2
        color: "#3498db"
    - name: "Return Temp"
      type: line
      mode: lines
      x_field: timestamp
      y_field: return_water_temperature
      line:
        width: 2
        color: "#e74c3c"
    - name: "Delta-T"
      type: line
      mode: lines
      x_field: timestamp
      y_field: delta_t
      yaxis: "y2"
      line:
        width: 2
        dash: dot
        color: "#9b59b6"
  shapes: []
  annotations: []

parameters:
  - name: loop_type
    type: enum
    default: "chilled_water_loop"
    description: "Water loop to display"
    options:
      - "chilled_water_loop"
      - "condenser_water_loop"
    required: false
  - name: date_range
    type: date_range
    default: "24h"
    description: "Time period"
    required: false
  - name: resolution
    type: enum
    default: "15m"
    description: "Data resolution"
    options:
      - "5m"
      - "15m"
      - "1h"
    required: false

usage_count: 0
success_rate: 1.0
